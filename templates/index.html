<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title> Wasp Remote Control </title>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
        <link rel="stylesheet" href="my.css" />
        <style>
            /* App custom styles */
        </style>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"> </script>
        <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"> </script>
    </head>
    <body>
        <div data-role="page" id="index">
            <div data-theme="c" data-role="header" data-position="fixed">
                <h3> Wasp Control </h3>
                <div data-role="navbar" data-iconpos="top">
                    <ul>
                        <li>
                            <a href="/index" data-theme="b" data-icon="gear" data-ajax="false" class="ui-btn-active"> Control </a>
                        </li>
                        <li>
                            <a href="/listing" data-theme="b" data-icon="search" data-ajax="false"> Browse Media </a>
                        </li>
                    </ul>
                </div>
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup">
                        <label for="slider1"> Volume </label>
                        <input type="range" name="volumeSlider" id="volume" value="50" min="0" max="100" step="10" data-highlight="false" />
                    </fieldset>
                </div>
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup">
                        <label for="toggleswitch1"> Muting </label>
                        <select name="toggleswitch1" id="toggleswitch1" data-theme="" data-role="slider">
                            <option value="off"> Off </option>
                            <option value="on"> On </option>
                        </select>
                    </fieldset>
                </div>
            </div>
            <div data-role="content">
                <input id="testmovie" type="button" data-icon="arrow-u" value="Test movie"/>
                <input id="pause" type="button" data-icon="arrow-r" value="Pause/unpause"/>
                <input id="stop" type="button" data-icon="delete" value="Stop playback"/>
            </div>
        </div>
        <script>
            // All jQueryMobile (slightly registered differently than normal jQuery) events
            // (Ajax calls) are coming here.
            $(document).bind("pageinit", function(event, ui) {
                $("input#volume").bind("change", function(event, ui) {
                    var volume = $(this).val()
                    var request = $.ajax({
                        type: "POST",
                        url: "/volume",
                        data: { 
                            volume: volume, 
                        },
                    });
                });

                $("input#testmovie").bind("click", function(event, ui) {
                    var request = $.ajax({
                        type: "POST",
                        url: "/start",
                    });

                });

                $("input#pause").bind("click", function(event, ui) {
                    var request = $.ajax({
                        type: "POST",
                        url: "/pause",
                    });

                });

                $("input#stop").bind("click", function(event, ui) {
                    var request = $.ajax({
                        type: "POST",
                        url: "/stop",
                    });

                });

            });
        </script>
    </body>
</html>
